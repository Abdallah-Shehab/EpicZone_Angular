<div class="container-fluid mt-5 mb-5">
  <div class="row justify-content-center align-items-center g-2 fs-3 text-dark">
    <div class="col-md-3"></div>
    <div class="col-md-6">
      <div class="form-container">
        <form
          class="form"
          [formGroup]="ProductForm"
          *ngIf="ProductForm"
          (ngSubmit)="GametAction()"
        >
          <p class="title">{{ Gameid == 0 ? "ADD Game" : "Edit Game" }}</p>
          <input type="hidden" value="Gameid" />
          <div class="flex">
            <label>
              <input
                class="input"
                type="text"
                name="Productname"
                formControlName="name"
              />
              <span>Name</span>
            </label>

            <label>
              <input
                class="input"
                type="number"
                name="price"
                formControlName="price"
              />
              <span>Price</span>
            </label>
          </div>
          <div
            *ngIf="
              ProductForm.controls['name'].invalid &&
              (ProductForm.controls['name'].dirty ||
                ProductForm.controls['name'].touched)
            "
            class="text-danger fs-4"
          >
            <div *ngIf="ProductForm.controls['name'].errors?.['required']">
              Name is required.
            </div>
            <div *ngIf="ProductForm.controls['name'].errors?.['min']">
              Minumum Length is 5.
            </div>
          </div>

          <div
            *ngIf="
              ProductForm.controls['price'].invalid &&
              (ProductForm.controls['price'].dirty ||
                ProductForm.controls['price'].touched)
            "
            class="text-danger fs-4"
          >
            <div *ngIf="ProductForm.controls['price'].errors?.['required']">
              Price is required.
            </div>
            <div *ngIf="ProductForm.controls['price'].errors?.['min']">
              Price Must be Greater Than 200.
            </div>
          </div>
          <label>
            <span>Category</span>
            <select
              class="form-control mb-2"
              placeholder="Category "
              name="category"
              formControlName="category"
            >
              <option value="">Select Category</option>

              <option value="PC">PC</option>
              <option value="PS-5">PS-5</option>
            </select>
          </label>
          <div
            *ngIf="
              ProductForm.controls['category'].invalid &&
              (ProductForm.controls['category'].dirty ||
                ProductForm.controls['category'].touched)
            "
            class="text-danger fs-4"
          >
            <div *ngIf="ProductForm.controls['category'].errors?.['required']">
              category is required.
            </div>
          </div>
          <label>
            <span>Condtion</span>
            <select class="form-control mb-2" formControlName="condtion">
              <option value="">Select Condtion</option>

              <option value="New">New</option>
              <option value="Used">Used</option>
            </select>
          </label>
          <div
            *ngIf="
              ProductForm.controls['condtion'].invalid &&
              (ProductForm.controls['condtion'].dirty ||
                ProductForm.controls['condtion'].touched)
            "
            class="text-danger fs-4"
          >
            <div *ngIf="ProductForm.controls['condtion'].errors?.['required']">
              condtion is required.
            </div>
          </div>
          <label>
            <input
              type="number"
              class="input"
              name="discount"
              formControlName="discount"
            />
            <span>Discount</span>
          </label>
          <!-- <label>
            <input
              type="file"
              class="input"
              name="image"
              (change)="onFileSelected($event)"
              accept="image/*"
            />
            <span>Image Link</span>
          </label> -->
          <!-- formControlName="image" -->
          <div class="fileContainer mt-3">
            <div class="input-div">
              <input
                class="input"
                name="file"
                type="file"
                (change)="onFileSelected($event)"
                accept="image/*"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                stroke-linejoin="round"
                stroke-linecap="round"
                viewBox="0 0 24 24"
                stroke-width="2"
                fill="none"
                stroke="currentColor"
                class="icon"
              >
                <polyline points="16 16 12 12 8 16"></polyline>
                <line y2="21" x2="12" y1="12" x1="12"></line>
                <path
                  d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"
                ></path>
                <polyline points="16 16 12 12 8 16"></polyline>
              </svg>
            </div>
          </div>

          <label>
            <span>Description</span>
            <br />
            <textarea
              name="description"
              formControlName="description"
              rows="3"
            ></textarea>
          </label>

          <button
            type="submit"
            class="btn btn-warning text-dark fs-4 mt-2"
            id="liveToastBtn"
            [disabled]="ProductForm.invalid"
          >
            {{ Gameid == 0 ? "Add " : "Edit " }}
          </button>
        </form>
        <!-- Display all errors in a single div -->
      </div>
    </div>
    <div class="col-md-3"></div>
  </div>
</div>
